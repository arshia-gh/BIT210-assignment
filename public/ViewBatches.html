<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
        integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />

    <style>
        tr:hover {
            background-color: var(--bs-blue);
            color: var(--bs-white) !important;
        }
    </style>
    <title>List of batches</title>
</head>
  <!-- <nav class="nav">
            <a heref="#" class="nav-item nav-link">Home</a>
            <a heref="#" class="nav-item nav-link">About Us</a>
            <a heref="#" class="nav-item nav-link">Products</a>
            <a heref="#" class="nav-item nav-link">Contact Us</a>
        </nav> -->
<body>
    <div class="container p-3">
        <h2>Batches List</h2>
        <p>Select a batch to view</p>
        <table class="table table-striped rounded overflow-hidden">
            <tr class="bg-secondary text-light">
                <th>Batch No</th>
                <th>Vaccine Name</th>
                <th>No. of Pending Appointment</th>
            </tr>
            <tbody id="batches-table">
                <template>

                </template>
            </tbody>
        </table>
    </div>

    <script type="text/javascript" src="StaticClassesObject.js"></script>

    <script>
        const batchesTable = document.getElementById('batches-table');

        const AppendBatchToTable = (batch) => {

            let tr = document.createElement("tr");
            tr.setAttribute('role', 'button');
            tr.setAttribute('data-batchNo', batch.batchNo);

            const columns = [batch.batchNo, batch.vaccine.vaccineName, batch.quantityAvailable];
            
            for (let prop of columns) {
                let td = document.createElement('td');
                td.innerHTML = prop;
                tr.appendChild(td);
            }

            batchesTable.appendChild(tr);
        }; 

        batches.forEach(batch => AppendBatchToTable(batch));

        batchesTable.addEventListener('click', (e) => {
            let tr = e.target.parentNode;
            let batchNo = tr.getAttribute('data-batchNo');
            if (batchNo) {
                location = location.origin + '/batch.html?batchNo=' + batchNo;
                // let selectedBatch = vaccines.find(batch => batch.batchNo === batchNo);
            }
        })

    </script>
</body>

</html>